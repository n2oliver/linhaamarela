<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <title>Linha Amarela</title>
        <meta charset="utf-8" />
        <meta name="viewport" 
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <link rel="shortcut icon" href="iconlinhaamarela.ico" type="image/x-icon"/>
        <link rel="stylesheet" href="css/logo.css"/>
        <link rel="stylesheet" href="css/pause.css"/>
        <link rel="stylesheet" href="css/nivel.css"/>
        <link rel="stylesheet" href="css/markers.css"/>
        <link rel="stylesheet" href="css/enemies.css"/>
        <style>
            .rotate-center {
                -webkit-animation: rotate-center 0.6s ease-in-out both;
                animation: rotate-center 0.6s ease-in-out both;
            }
            /* ----------------------------------------------
             * Generated by Animista on 2022-5-23 9:55:26
             * Licensed under FreeBSD License.
             * See http://animista.net/license for more info. 
             * w: http://animista.net, t: @cssanimista
             * ---------------------------------------------- */
 
             /**
             * ----------------------------------------
             * animation rotate-center
             * ----------------------------------------
             */
            @-webkit-keyframes rotate-center {
                0% {
                    -webkit-transform: rotate(0);
                            transform: rotate(0);
                }
                100% {
                    -webkit-transform: rotate(360deg);
                            transform: rotate(360deg);
                }
            }
            @keyframes rotate-center {
                0% {
                    -webkit-transform: rotate(0);
                            transform: rotate(0);
                }
                100% {
                    -webkit-transform: rotate(360deg);
                            transform: rotate(360deg);
                }
            }

        </style>
        
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="js/vendor/hammer.min.js"></script>
        <script src="js/Background.js"></script>
        <script src="js/Counter.js"></script>
        <script src="js/PointsCounter.js"></script>
        <script src="js/LevelsCounter.js"></script>
        <script src="js/LivesCounter.js"></script>
        <script src="js/GameObject.js"></script>
        <script src="js/YellowBox.js"></script>
        <script src="js/BallBase.js"></script>
        <script src="js/Ball.js"></script>
        <script src="js/SpaceInvader.js"></script>
        <script src="js/GameBase.js"></script>
        <script src="js/Game.js"></script>
        <script>
            window.game;
            
            window.onload = (e) => {
                const loggedUser = document.cookie.split(";").map((entry)=> {
                    const values = entry.split("=");
                    const key = values[0];
                    const value = values[1];
                    return {
                        key: key,
                        value: value
                    }
                }).filter((entry) => { if(entry.key.trim() == "username") return entry });
                if(loggedUser < 1) {
                    window.location = "index.html";
                }
                level = 1;
                game = new Game(e, level);
            }
            window.onclick = (e) => {
                const audio = document.getElementById("game-sound");
                if(audio.readyState) {
                    if(sessionStorage.musica == 'on') {
                        audio.play();
                        audio.onended = function() {
                            audio.currentTime = 0;
                            audio.play();
                        }
                    }
                }
                game.start(e);
            }
        </script>
    </head>
    <body>
        <audio id="game-sound" src="mp3/residence-tatami-main-version.mp3" controls style="display: none" preload="auto"></audio>
        <div id="bg-transparent" style="width: 100%; height: 100%; position: fixed"></div>
        <div class="presentation-container unselectable">Nivel: <span id="levels-counter">1</span></div>
        <div class="presentation-container unselectable">Pontos: <span id="points-counter">0</span></div>
        <div class="presentation-container unselectable">Vidas restantes: <span id="vidas">2</span></div>
        <div id="logo" class="unselectable game-logo"><img width="100%" src="img/logo-linhaamarela.png"/></div>
        <div id="pause-button" class="unselectable pause-button"><img width="100%" src="img/pause-icon-png-12.jpg"/></div>
        <div id="play-button" class="unselectable play-button"><img width="100%" src="img/png-clipart-digital-marketing-implementation-business-computer-programming-play-button-electronics-text.png"/></div>
        <div id="pause" class="pause unselectable rotate-center">Pause</div>
        <div id="qr-code" style="display: none; color: white;" class="qr-code rotate-center">
            <div>Aceitamos doações:</div>
            <div><img src="img/qrcode-pix.png"/></div>
            <div>Chave PIX:</div>
            <div>silva.liver@gmail.com</div>
        </div>
        <div id="nivel" class="nivel unselectable rotate-center">Nivel</div>
        <div id="red-ball"></div>
        <div id="yellow-box"></div>
        <audio id="toque-linha-amarela" src="mp3/toque-linha-amarela.mp3" controls autoplay="false" style="display: none"></audio>
    </body>
</html>